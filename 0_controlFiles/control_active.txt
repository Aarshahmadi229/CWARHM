# SUMMA workflow setting file.
# Indicate comments on lines with settings with '#'. '|' and '#' are used as separators to find the actual setting values.

# Modeling domain settings
root_path              | C:\Globus endpoint\summaWorkflow_data           # Root folder where data will be stored
domain_name            | BowAtBanff                                      # Used as part of the root folder name for the prepared data


# Shapefile folder settings
catchment_shp_path     | default                                         # If 'default', uses 'root_path/domain_[name]/shapefiles/catchment'. Otherwise needs full path, e.g. '/home/user/path/to/shapefile'
catchment_shp_name     | bow_distributed_elevation_zone.shp              # Name of the catchment shapefile. Requires extension '.shp'
river_network_path     | default                                         # if 'default', uses 'root_path/domain_[name]/shapefiles/river_network'. Otherwise needs full path, e.g. '/home/user/path/to/shapefile'
river_network_shp_name | bow_river_network_from_merit_hydro.shp          # Name of the river network shapefile. Requires extension '.shp'


# Install settings
github_summa           | https://github.com/ncar/summa                   # Replace this with the path to your own fork if you forked the repo
github_mizuroute       | https://github.com/ncar/mizuroute               # Replace this with the path to your own fork if you forked the repo
install_path_summa     | default                                         # If 'default', clones source code into 'root_path/installs/summa'. Otherwise needs full path, e.g. '/home/user/path/to/summa'
install_path_mizuroute | default                                         # If 'default', clones source code into 'root_path/installs/mizuroute'. Otherwise needs full path, e.g. '/home/user/path/to/mizuRoute'
exe_name_summa         | summa.exe                                       # Name of the compiled executable
exe_name_mizuroute     | mizuroute.exe                                   # Name of the compiled executable


# Forcing settings
forcing_raw_path       | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/1_raw_data'. Otherwise needs full path, e.g. '/home/user/path/to/forcing'
forcing_raw_time       | 1979,1979                                       # Years to download: Jan-[from],Dec-[to]
forcing_raw_space      | 51.75/-116.75/50.75/-115.5                      # Coordinates to download: lat_max/lon_min/lat_min/lon_max. Should cover the shapefile completely. Note that order and use of '/' to separate values is required for cdsapi to work.
forcing_merged_path    | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/2_merged_data'. Otherwise needs full path, e.g. '/home/user/path/to/merged/forcing'  
forcing_shape_path     | default                                         # If 'default', uses 'root_path/domain_[name]/shapefiles/forcing'. Otherwise needs full path, e.g. '/home/user/path/to/forcing/shapefile'
forcing_shape_name     | era5_grid.shp                                   # Name of the forcing shapefile. Requires extension '.shp'
forcing_summa_path     | default                # currently unused


# Parameter settings - soil
parameter_soil_raw_path    | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/1_SOILGRIDS_raw_data'. Otherwise needs full path, e.g. '/home/user/path/to/soil/download'
parameter_soil_value       | mean                                        # SOILGRIDS prediction value to download. Must be one of: Q0.05, Q0.5, Q0.95, mean, uncertainty
parameter_soil_class_path  | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/2_usgs_soil_classes'. Otherwise needs full path, e.g. '/home/user/path/to/soil/classes'
parameter_soil_mode_path   | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/3_mode_soil_class'. Otherwise needs full path, e.g. '/home/user/path/to/soil/class'

# Parameter settings - land
parameter_land_raw_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/1_MODIS_raw_data'. Otherwise needs full path, e.g. '/home/user/path/to/land/download'
parameter_land_list_path    | default                                     # If 'default', uses 'summaWorkflow_public/3b_parameters/MODIS_MCD12Q1_V6/1_download/'. Otherwise needs full path, e.g. '/home/user/path/to/list/of/files'
parameter_land_list_name    | daac_mcd12q1_data_links.txt                 # Name of file that contains list of MODIS download urls
parameter_land_vrt1_path    | default                                     # Virtual dataset composed of .hdf files. If 'default', uses 'root_path/domain_[name]/parameters/landclass/2_vrt_native_crs'. Otherwise needs full path, e.g. '/home/user/path/to/modis/vrt1' 
parameter_land_vrt2_path    | default                                     # Virtual dataset projected in EPSG:4326. If 'default', uses 'root_path/domain_[name]/parameters/landclass/3_vrt_epsg_4326'. Otherwise needs full path, e.g. '/home/user/path/to/modis/vrt2' 
parameter_land_vrt3_path    | default                                     # Virtual dataset cropped to model domain. If 'default', uses 'root_path/domain_[name]/parameters/landclass/4_domain_vrt_epsg_4326'. Otherwise needs full path, e.g. '/home/user/path/to/modis/vrt3'
parameter_land_vrt4_path    | default                                     # Multiband cropped virtual dataset. If 'default', uses 'root_path/domain_[name]/parameters/landclass/5_multiband_domain_vrt_epsg_4326'. Otherwise needs full path, e.g. '/home/user/path/to/modis/vrt4'
parameter_land_tif_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/6_tif_multiband'. Otherwise needs full path, e.g. '/home/user/path/to/modis/tif'  
parameter_land_mode_path    | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/7_mode_land_class'. Otherwise needs full path, e.g. '/home/user/path/to/modis/class'

# Parameter settings - DEM
parameter_dem_raw_path      | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/1_MERIT_hydro_raw_data'. Otherwise needs full path, e.g. '/home/user/path/to/merit/hydro/download'
parameter_dem_main_url      | http://hydro.iis.u-tokyo.ac.jp/~yamadai/MERIT_Hydro/distribute/v1.0.1/           # Primary download URL for MERIT Hydro adjusted elevation data. Needs to be appended with filenames.
parameter_dem_file_template | elv_{}{}.tar                                # Template for download file names.
parameter_dem_unpack_path   | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/2_MERIT_hydro_unpacked_data'. Otherwise needs full path, e.g. '/home/user/path/to/merit/hydro/unpacked/data'
parameter_dem_vrt1_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/3_vrt'. Otherwise needs full path, e.g. '/home/user/path/to/merit/hydro/vrt1'
parameter_dem_vrt2_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/4_domain_vrt'. Otherwise needs full path, e.g. '/home/user/path/to/merit/hydro/vrt2'
parameter_dem_tif_path      | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/5_elevation'. Otherwise needs full path, e.g. '/home/user/path/to/merit/tif'


# Default folder structure
# Example of the resulting folder structure in "root_path". 
# New domains will go into their own folder.

- summWorkflow_data
   |
   |_ domain_BowAtBanff
   |   |
   |   |_ shapefiles
   |   |   |_ catchment
   |   |   |_ catchment_intersection
   |   |   |   |_ with_forcing
   |   |   |   |_ with_soil
   |   |   |   |_ with_veg
   |   |   |_ forcing
   |   |   |_ river_network
   |   |
   |   |_ forcing
   |   |   |_ 1_raw_data
   |   |   |_ 2_merged_data
   |   |   |_ 3_SUMMA_input
   |   |
   |   |_ parameters
   |   |   |_ soilclass
   |   |   |   |_ 1_SOILGRIDS_raw_data
   |   |   |   |_ 2_usgs_soil_classes
   |   |   |   |_ 3_mode_soil_class
   |   |   |   
   |   |   |_ landclass
   |   |   |   |_ 1_MODIS_raw_data
   |   |   |   |_ 2_vrt_native_crs
   |   |   |   |_ 3_vrt_epsg_4326
   |   |   |   |_ 4_domain_vrt_epsg_4326
   |   |   |   |_ 5_multiband_domain_vrt_epsg_4326
   |   |   |   |_ 6_tif_multiband
   |   |   |   |_ 7_mode_land_class
   |   |   |   
   |   |   |_ dem
   |   |       |_ 1_MERIT_hydro_raw_data
   |   |       |_ 2_MERIT_hydro_unpacked_data
   |   |       |_ 3_vrt
   |   |       |_ 4_domain_vrt
   |   |       |_ 5_elevation
   |   |
   |   |_ settings
   |   |
   |   |_ simulations
   |       |_run1
   |       |  |_ 1_summa
   |       |  |_ 2_mizuRoute
   |       |_run2
   |
   |_ domain_global
   |   |_ ...
   |
   |_ domain_northAmerica
   |   |_ ...
   |
   |_ installs
       |_ mizuRoute
       |_ SUMMA