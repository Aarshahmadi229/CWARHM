# SUMMA workflow setting file.
# Characters '|' and '#' are used as separators to find the actual setting values. Any text behind '|' is assumed to be part of the setting value, unless preceded by '#'.

# Note on path specification
# If deviating from default paths, a full path must be specified. E.g. '/home/user/non-default/path'

# Modeling domain settings
root_path              | /project/gwf/gwf_cmt/wknoben/summaWorkflow_data           # Root folder where data will be stored.
domain_name            | BowAtBanff                                      # Used as part of the root folder name for the prepared data.


# Shapefile settings
catchment_shp_path     | default                                         # If 'default', uses 'root_path/domain_[name]/shapefiles/catchment'.
catchment_shp_name     | bow_distributed_elevation_zone.shp              # Name of the catchment shapefile. Requires extension '.shp'.
catchment_shp_gruid    | GRU_ID                                          # Name of the GRU ID column (can be any numeric value, HRU's within a single GRU have the same GRU ID).
catchment_shp_hruid    | HRU_ID                                          # Name of the HRU ID column (consecutive from 1 to total number of HRUs, must be unique).
catchment_shp_area     | HRU_area                                        # Name of the catchment area column. Area must be in units [m^2]
catchment_shp_lat      | center_lat                                      # Name of the latitude column. Should be a value representative for the HRU. Typically the centroid.
catchment_shp_lon      | center_lon                                      # Name of the longitude column. Should be a value representative for the HRU. Typically the centroid.
river_network_path     | default                                         # if 'default', uses 'root_path/domain_[name]/shapefiles/river_network'.
river_network_shp_name | bow_river_network_from_merit_hydro.shp          # Name of the river network shapefile. Requires extension '.shp'.


# Install settings
github_summa           | https://github.com/ncar/summa                   # Replace this with the path to your own fork if you forked the repo.
github_mizuroute       | https://github.com/ncar/mizuroute               # Replace this with the path to your own fork if you forked the repo.
install_path_summa     | default                                         # If 'default', clones source code into 'root_path/installs/summa'.
install_path_mizuroute | default                                         # If 'default', clones source code into 'root_path/installs/mizuroute'.
exe_name_summa         | summa.exe                                       # Name of the compiled executable.
exe_name_mizuroute     | mizuroute.exe                                   # Name of the compiled executable.


# Forcing settings
forcing_raw_path       | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/1_raw_data'.
forcing_raw_time       | 1979,1979                                       # Years to download: Jan-[from],Dec-[to].
forcing_raw_space      | 51.75/-116.75/50.75/-115.5                      # ERA5 coordinates to download: lat_max/lon_min/lat_min/lon_max. Should cover the shapefile completely. Order and use of '/' to separate values is required for cdsapi to work.
forcing_geo_path       | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/0_geopotential'.
forcing_merged_path    | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/2_merged_data'.
forcing_shape_path     | default                                         # If 'default', uses 'root_path/domain_[name]/shapefiles/forcing'.
forcing_shape_name     | era5_grid.shp                                   # Name of the forcing shapefile. Requires extension '.shp'.
forcing_summa_path     | default                                         # If 'default', uses 'root_path/domain_[name]/forcing/3_SUMMA_input'.


# Parameter settings - DEM
parameter_dem_main_url      | http://hydro.iis.u-tokyo.ac.jp/~yamadai/MERIT_Hydro/distribute/v1.0.1/     # Primary download URL for MERIT Hydro adjusted elevation data. Needs to be appended with filenames.
parameter_dem_file_template | elv_{}{}.tar                                # Template for download file names.
parameter_dem_raw_path      | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/1_MERIT_hydro_raw_data'.
parameter_dem_unpack_path   | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/2_MERIT_hydro_unpacked_data'.
parameter_dem_vrt1_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/3_vrt'.
parameter_dem_vrt2_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/4_domain_vrt'.
parameter_dem_tif_path      | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/dem/5_elevation'.
parameter_dem_tif_name      | elevation.tif                               # Name of the final DEM for the domain.  Must be in .tif format.


# Parameter settings - soil
parameter_soil_raw_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/1_SOILGRIDS_raw_data'.
parameter_soil_value        | mean                                        # SOILGRIDS prediction value to download. Must be one of: Q0.05, Q0.5, Q0.95, mean, uncertainty.
parameter_soil_class_path   | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/2_usgs_soil_classes'.
parameter_soil_mode_path    | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/soilclass/3_mode_soil_class'.


# Parameter settings - land
parameter_land_raw_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/1_MODIS_raw_data'.
parameter_land_list_path    | default                                     # If 'default', uses 'summaWorkflow_public/3b_parameters/MODIS_MCD12Q1_V6/1_download/'.
parameter_land_list_name    | daac_mcd12q1_data_links.txt                 # Name of file that contains list of MODIS download urls.
parameter_land_vrt1_path    | default                                     # Virtual dataset composed of .hdf files. If 'default', uses 'root_path/domain_[name]/parameters/landclass/2_vrt_native_crs'.
parameter_land_vrt2_path    | default                                     # Virtual dataset projected in EPSG:4326. If 'default', uses 'root_path/domain_[name]/parameters/landclass/3_vrt_epsg_4326'.
parameter_land_vrt3_path    | default                                     # Virtual dataset cropped to model domain. If 'default', uses 'root_path/domain_[name]/parameters/landclass/4_domain_vrt_epsg_4326'.
parameter_land_vrt4_path    | default                                     # Multiband cropped virtual dataset. If 'default', uses 'root_path/domain_[name]/parameters/landclass/5_multiband_domain_vrt_epsg_4326'.
parameter_land_tif_path     | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/6_tif_multiband'.  
parameter_land_mode_path    | default                                     # If 'default', uses 'root_path/domain_[name]/parameters/landclass/7_mode_land_class'. 


# Intersection settings
intersect_dem_path          | default                                     # If 'default', uses 'root_path/domain_[name]/shapefiles/catchment_intersection/with_dem'.
intersect_dem_name          | catchment_with_merit_dem.shp                # Name of the shapefile with intersection between catchment and ERA5 grid, stored in column 'elev_mean'.
intersect_forcing_path      | default                                     # If 'default', uses 'root_path/domain_[name]/shapefiles/catchment_intersection/with_forcing'.
intersect_forcing_name      | catchment_with_era5.shp                     # Name of the shapefile with intersection between catchment and ERA5 grid.
intersect_forcing_csv_name  | catchment_with_era5_noGeom.csv              # Name of the .csv file that contains the intersection information but not the shape geometries.


# Settings - SUMMA
settings_summa_path         | default                                     # If 'default', uses 'root_path/domain_[name]/settings/SUMMA'.
settings_mizu_path          | default                                     # If 'default', uses 'root_path/domain_[name]/settings/mizuRoute'.


# Default folder structure
# Example of the resulting folder structure in "root_path". 
# New domains will go into their own folder.

- summWorkflow_data
   |
   |_ domain_BowAtBanff
   |   |
   |   |_ shapefiles
   |   |   |_ catchment
   |   |   |_ catchment_intersection
   |   |   |   |_ with_dem
   |   |   |   |_ with_forcing
   |   |   |   |_ with_soil
   |   |   |   |_ with_veg
   |   |   |_ forcing
   |   |   |_ river_network
   |   |
   |   |_ forcing
   |   |   |_ 0_geopotential
   |   |   |_ 1_raw_data
   |   |   |_ 2_merged_data
   |   |   |_ 3_SUMMA_input
   |   |
   |   |_ parameters
   |   |   |_ soilclass
   |   |   |   |_ 1_SOILGRIDS_raw_data
   |   |   |   |_ 2_usgs_soil_classes
   |   |   |   |_ 3_mode_soil_class
   |   |   |   
   |   |   |_ landclass
   |   |   |   |_ 1_MODIS_raw_data
   |   |   |   |_ 2_vrt_native_crs
   |   |   |   |_ 3_vrt_epsg_4326
   |   |   |   |_ 4_domain_vrt_epsg_4326
   |   |   |   |_ 5_multiband_domain_vrt_epsg_4326
   |   |   |   |_ 6_tif_multiband
   |   |   |   |_ 7_mode_land_class
   |   |   |   
   |   |   |_ dem
   |   |       |_ 1_MERIT_hydro_raw_data
   |   |       |_ 2_MERIT_hydro_unpacked_data
   |   |       |_ 3_vrt
   |   |       |_ 4_domain_vrt
   |   |       |_ 5_elevation
   |   |
   |   |_ settings
   |   |   |_ mizuRoute
   |   |   |_ SUMMA
   |   |
   |   |_ simulations
   |       |_run1
   |       |  |_ 1_summa
   |       |  |_ 2_mizuRoute
   |       |_run2
   |
   |_ domain_global
   |   |_ ...
   |
   |_ domain_northAmerica
   |   |_ ...
   |
   |_ installs
       |_ mizuRoute
       |_ SUMMA